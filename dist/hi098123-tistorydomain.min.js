/*
 * 제작 : hi098123
 * 적용방법 : https://hi098123-skin.tistory.com/27
 * License : MIT
 * Version : 2020-08-09
 */
 
!function(){function t(){if(function(){try{return window.self!==window.top}catch(t){return!0}}()){if(initData.user){parent.postMessage(JSON.stringify({html:document.querySelector("#entry"+ReactionReqBody.entryId+"Comment").innerHTML,btn:document.querySelector("button.btn_subscription")?document.querySelector("button.btn_subscription").innerHTML:""}),TistoryBlog.url);var t=window.addEventListener?"addEventListener":"attachEvent";(e=window[t])(n="attachEvent"==t?"onmessage":"message",function(t){"hi098123-subscribe-code"==t.data?document.querySelector("button.btn_subscription").click():(document.querySelector('textarea[name="comment"]').value=t.data,document.querySelector('button[onclick*="addComment"]').click())},!1)}}else if(window.location.hostname!=TistoryBlog.tistoryUrl.split("/")[2]){t=window.addEventListener?"addEventListener":"attachEvent";var e=window[t],n="attachEvent"==t?"onmessage":"message";window.hi098123_tistory_login_check=!1,e(n,function(t){var e=JSON.parse(t.data);document.querySelector("#entry"+ReactionReqBody.entryId+"Comment").innerHTML=e.html,document.querySelector("button.btn_subscription").innerHTML=e.btn,""==document.querySelector("button.btn_subscription").innerHTML?document.querySelector("button.btn_subscription").outerHTML="":"구독중"==document.querySelector("button.btn_subscription .txt_state").innerText&&(document.querySelector("button.btn_subscription .ico_check_type1").style.display="inline-block"),hi098123_tistory_login_check=!0,window.addComment=function(){document.querySelector("#tistory2comm-hi098123").contentWindow.postMessage(document.querySelector('textarea[name="comment"]').value,TistoryBlog.tistoryUrl),location.reload()},window.followBlog=function(){document.querySelector("#tistory2comm-hi098123").contentWindow.postMessage("hi098123-subscribe-code",TistoryBlog.tistoryUrl),location.reload()},window.addUriPrefix=function(t){return TistoryBlog.tistoryUrl+t}},!1),document.querySelector("body").innerHTML+='<iframe id="tistory2comm-hi098123" style="display:none;" scrolling="no" src="'+TistoryBlog.tistoryUrl+"/"+ReactionReqBody.entryId+'"></iframe>'}}document.querySelector("#entry"+ReactionReqBody.entryId+"Comment")?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),t()},!1):document.attachEvent&&document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),t())})}();
